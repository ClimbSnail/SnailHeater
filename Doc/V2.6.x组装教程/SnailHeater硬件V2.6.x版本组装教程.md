# SnailHeater接线教程
### 免责声明：
#### 由于本作品涉及到220V交流电，需有一点基础的人员才可操作。未能正确估量自己的能力，发生触电等有损人身安全的事故，均与本项目开发者无关。也提醒大家，接线过程中不要接220V，一定要断电操作！！！

![主机成品](主机成品.png)

本教程对SnailHeater V2.6主机接线提供一个统一的接线规范。关于手柄接线请参考 __`《蜗牛台全系接线引脚定义.pdf》`__。SnailHeater主机包含5款PCB板，分别为`电源板`、`屏幕板`、`核心板`、`接线拓展版`、`驱动板`。本教程涉及的非元器件外的配件在此在线文档中均有购买连接推荐或者相关描述：蜗牛台文档目录 https://docs.qq.com/doc/DQWd3cW5HYkxBWFBh 的`《物料清单》`中（请区分硬件版本）。

核心板的数据采集来源于驱动板，在未接驱动板的情况下，数值是无参考意义的。而驱动板是的逻辑是由核心板控制的，所以在未接线或核心板不可用的情况下请勿使用AC220供电。

在阅读接下来的文档前，希望大家观看视频教程，以至于对SnailHeater整体有个清晰的认识。请观看 蜗牛台文档目录 https://docs.qq.com/doc/DQWd3cW5HYkxBWFBh 的`《蜗牛台整体介绍》`视频。

涉及的接口有：
* 烙铁口GX12-5 （T12/JBC245/JBC210通用）
* 可调电源输出`4mm香蕉头`
* 前置风枪/加热台`GX16-8`
* 后置风枪/加热台`GX16-8`
* 品字电源座、船型开关
* 额外接地口、与JBC休眠口 `4mm香蕉头`

补充知识：
1. 带针的航空头成为公头，不带针的称之为母头。
2. 主机上安装的都是公头。所有的航空头都有一个防呆缺口（防止插错），防呆缺口的左右两边对应的是`1脚`和`n脚`，整体编号是按顺序编号的（顺逆不定）。
3. 航空母头的外壳为金属，注意内部弹片的焊线高度不要顶到外壳上，以免造成短路。
4. 焊接前，为了更好的焊接，建议所有的多股线头缠绕后镀锡，航空头的每个针都要线镀锡。
5. 为了更安全的防止短路，航空头与线头的连接处使用2mm直径的热缩管防护，故焊接前先在每根线上套好热缩管。
6. 一般新的风枪加热后会有`白烟`，属于正常现象。因为内部云母纸的特性，初始受热会产生烟雾，然后云母纸变脆，使用一段时间后就正常了。

## 快捷导航
<a href="#各个板子介绍"><font size="4" color="#00f">各个板子介绍</font></a>
<a href="#配件准备工作"><font size="4" color="#00f">配件准备工作</font></a>
<a href="#驱动板"><font size="3" color="#00f">|-----驱动板</font></a>
<a href="#电源板"><font size="3" color="#00f">|-----电源板</font></a>
<a href="#安装"><font size="4" color="#00f">安装</font></a>
<a href="#1. 屏幕板与接线板安装"><font size="3" color="#00f">|-----1. 屏幕板与接线板安装</font></a>
<a href="#2. 安装核心板"><font size="3" color="#00f">|-----2. 安装核心板</font></a>
<a href="#3. 安装后置面板"><font size="3" color="#00f">|-----3. 安装后置面板</font></a>
<a href="#4. 机壳准备"><font size="3" color="#00f">|-----4. 机壳准备</font></a>
<a href="#5. 安装固定驱动板"><font size="3" color="#00f">|-----5. 安装固定驱动板</font></a>
<a href="#6. 内部主要接线视图"><font size="3" color="#00f">|-----6. 内部主要接线视图</font></a>
<a href="#7. 组装后整体效果"><font size="3" color="#00f">|-----7. 组装后整体效果</font></a>

***

## <a id="各个板子介绍">各个板子介绍</a>
###### 屏幕板 ⬇
正面
![屏幕板](屏幕版正面.jpg)
反面
![屏幕板](屏幕版背面.jpg)

###### 接线拓展板 ⬇
正面
![接线拓展版正面](接线拓展版正面.jpg)
反面
![接线拓展版背面](接线拓展版背面.jpg)

注：左边一小部分是后置面板用的接线板，右边长条是前置前置面板的接线板。使用的时候，需要用钳子剪一下再掰，以免掰断铜层。

###### 核心板 ⬇
正面
![核心板正面](核心板正面.jpg)
反面
![核心板反面](核心板反面.jpg)

###### 驱动板 ⬇
![驱动板正面](驱动板正面.jpg)

###### 电源板 ⬇
![驱动板正面](ADDC电源板俯视图.jpg)
![驱动板正面](ADDC电源板斜视图1.jpg)
![驱动板正面](ADDC电源板斜视图2.jpg)

***
## <a id="配件准备工作">配件准备工作</a>

#### <a id="驱动板">驱动板</a>
![驱动板反面](驱动板反面.jpg)
将板背面标有`填锡孔`的通孔用锡充分填充。 __注：这些孔都为大电流过孔，填充锡为了增加载流__


#### <a id="电源板">电源板</a>
![ADDC电源板背面](ADDC电源板背面.jpg)
1. 板背面标有`填锡孔`的通孔用锡充分填充。 __注：这些孔都为大电流过孔，填充锡为了增加载流__
2. 使用硅橡胶固定`ACDC-5V小电源`。
3. 短接`ACDC-5V小电源`输出端附近预留的`SB3`短接焊盘。
4. 测试并调整电源侧边的二极管高度，已适配与外壳贴合。

注：若手头无此电源，可参考上一版本V2.5.x中电源的准备。下图为上一版供电方案的简要预览图：
![上一版整机俯视图](上一版整机俯视图.jpg)

***

## <a id="安装">安装</a>

### <a id="1. 屏幕板与接线板安装">1. 屏幕板与接线板安装</a>
##### 下图为刷机的最小结构
![刷机最小结构](刷机最小结构.jpg)
屏幕板有上个开孔，从左到右依次是：GX12-5航空头（烙铁接口）、4MM香蕉头的通用接口（可调电源输出使用）、GX16-8航空头（风枪接口）。

##### 实物图片
![屏幕板](屏幕板加接头.jpg)
屏幕为中景园的2.4寸320*240，驱动为ST7789V。旋钮为普通的EC11编码器，且编码器5个引脚必须焊在屏幕板上，焊在核心板上会导致编码器操作时错乱。
![屏幕板反面](屏幕版和接线板接线.jpg)
注：如上图所示，航空头缺口要朝上（不过有另类的航空头比较特殊）。插入接线板，让航空头的角度刚刚好。确保接口方向都正常后，将航空头焊到接线板上。

接线材料（从左到右）：
1. GX16-8风枪接口 丝印所指示的`发热芯`8号引脚使用一根2.5cm 20AWG的硅胶线与边缘的`N`连接。
2. 中间两个4mm香蕉头使用两个7cm 20AWG硅胶线引出，红为正极、黑为负。（推荐以图示的位置定义黑红）
3. GX12-5烙铁接口的`发热芯正极`和`发热芯负极`分别使用7cm 20AWG的硅胶线引出。

![屏幕板斜视角](屏幕版和接线板接线2.jpg)
为尽可能美观，故`EC11编码器`（即旋钮）使用倒装的方式安装（将5个引脚用钳子掰180度，一定要轻）

__GX16-8的红色跳线为零线，插入孔时，注意请勿触碰到航空头的金属部分。__


***

### <a id="2. 安装核心板">2. 安装核心板</a>
![安装核心板](安装核心板.jpg)

注：编码器的一个固定引脚需焊到核心板上，增强核心板的稳定性。核心板上`R7`圆形封装的电阻是需要焊接热敏电阻，具体型号为`M52-10K-B3950 1%`

***

### <a id="3. 安装后置面板">3. 安装后置面板</a>
![机壳后挡板外侧](机壳后挡板外侧.jpg)
1. GX16-8接口为安全起见，一定要先套上GX16专用的`防尘塞`，不然焊接线板后就不好套上了。
2. 白色的香蕉头都为4mm香蕉头。`PE`为额外地线引脚，可接防静电手环（让手环也能接地）。`SLEEP`为烙铁外置休眠口，主要为了支持JBC默认的休眠座。
3. 品字电源座部分是不带保险管的，需要自行查看是否需要购置保险管（2*50mm 250V/10A）。另外，保险管一侧尽可能朝内，这样插拔线的时候周围空间不至于紧。

![机壳后挡板内测](机壳后挡板内侧.jpg)
1. 后置接线板的丝印指示点`外置休眠`需要接一根线连接`SLEEP标识的4mm香蕉头`（推荐从接线板底下绕线）
2. `PE标识的香蕉头`使用一根线连接到品字电源座的地线引脚，如上图
3. 接线小板上指示的`发热芯`8号引脚需要使用2.5cm 20AWG硅胶线引出到侧边的`N孔`中。
4. 品字电源座的`L`、`N`线引脚接一根7cm 20AWG的硅胶线并套好热缩管（后续连接驱动板需要）。
5. 品字电源座的`PE`再接出一根7cm和一根15cm白色硅胶线。

***

### <a id="4. 机壳准备">4. 机壳准备</a>

![机壳](机壳.jpg)
推荐购买群内批量的机壳。自行加工一套400，很贵！！！

底部最好安装上硅胶垫，焊台使用的时候能够防滑。

![机壳加装青稞纸](机壳加装青稞纸.jpg)
两面都加装青稞纸。注意：青稞纸不要挡到任何一个孔！！！

***

### <a id="5. 安装固定驱动板">5. 安装固定驱动板</a>
![驱动板安装俯视图](驱动板安装俯视图.jpg)
1. 先将可控硅的引脚插在驱动板上弯折（弯折程度请参考下图）。为了更安全，驱动板上的可控硅安装脚距比较大，实际买到的可控硅间距比较小，需要自行拉开一点才可以插进去。
2. 驱动板左下角的孔通过一颗`M3*8mm`的螺丝固定到机壳地板，此步骤既是固定驱动板，同时也是让机壳连接驱动板的地线。注意不要拧太紧，以免使板子变形，同时可以在螺丝上打一点硅橡胶。

![可控硅绝缘散热结构](驱动板安装侧视图.jpg)
一共两组可控硅，推荐型号`BTA08-600`或者`BTA12-600`（尽可能买正品，寿命长），可控硅是带220V市电的，故需要安全可靠的结构。（以下是二车之后的外壳，一车外壳是装侧面导热）
1. 可控硅金属散热盘与机壳之间使用`氧化铝导热片`（规格12*18*0.6）绝缘。
2. 可控硅上面需要使用耐高温的`TO-220 绝缘胶粒`才可拧螺丝固定，很重要！！！

***

### <a id="6. 内部主要接线视图">6. 内部主要接线视图</a>

![机壳前后面板接线1](机壳前后面板接线1.jpg)

![机壳前后面板接线2](机壳前后面板接线2.jpg)
1. 机壳后面板的`接线小板`与`驱动板`的fpc规格为`fpc 4pin 15cm同向`，风扇供电使用`XH2.54 双头80mm 同向线`连接，发热芯使用`VH3.96 双头70mm 同向线`连接。
2. 屏幕板的`接线拓展板`与`驱动板`的fpc规格为`fpc 6pin 6cm同向`，风扇供电使用`XH2.54 双头150mm 同向线`连接，发热芯使用`VH3.96 双头125mm 同向线`连接。
3. 品字电源座的`L`、`N`与驱动板的接线座连接时请规范区分`L`、`N`。

![整机俯视图](整机俯视图.jpg)
1. `驱动板`通过20AWG硅胶线连接`电源板`，请区分`L`与`N`以及地线`PE`，千万别接错！！！
2. `12V`、`24V`一定需要看清楚线色，千万别接错！！！
3. `AC-DC 5V`小电源的5V输出使用`XH2.54 双头80mm 同向线`接核心板的`XH2.54 接线座`上。

***

### <a id="7. 组装后整体效果">7. 组装后整体效果</a>
![主机成品](主机成品2.jpg)

1. 屏幕板使用`中厚度的内六角螺丝`与机壳固定。
2. 后面板使用机壳自带的小型内嵌螺丝。
3. 如果安装完旋钮，按压中键的时候容易顶到RGB灯的话，可以在旋钮帽内部垫点纸，增加旋钮帽高度。或者旋钮中间倒一点502之类的胶水固化垫高一些。


***

### 关于手柄接线
请参考 __`《蜗牛台全系接线引脚定义.pdf》`__

### 关于主机功能问题排查
请参考 蜗牛台文档目录 https://docs.qq.com/doc/DQWd3cW5HYkxBWFBh 的`《蜗牛台三车电路排错总结》`文档。