# 蜗牛台说明书

## SnailHeater简介

#### _项目是适合创客的半开源焊台工具！_

多功能焊台，简称 __"蜗牛台"__ 。平板加热台、风枪、烙铁、可调电源多控。本项目内有220V高压，务必小心，后果自负。

* 本项目的地址 https://github.com/ClimbSnail/SnailHeater （github为最新资料）
* 或者 https://gitee.com/ClimbSnailQ/SnailHeater （gitee非最新，仅为预览）
* 上一代旧版控制器项目 https://github.com/ClimbSnail/HeatPlatform_SMT （底成本方案）

本项目使用ESP32S2模组开发。同时控制加热板、风枪、烙铁、数字可调电源工作 。本项目将持续优化，不做半吊子。为防止后期咸鱼倒卖，只提供一个简单的demo，主线源码不开源，DIY玩家可免费领取2个序列号。

另外：为了充分利用硬件资源，将会附带双路示波器（采样2M）、函数发生器、高精度脉冲输出（可用于点焊机）。额外会有锁屏时钟等等超多功能。


## 注意事项（非常重要）
#### V2.5.X版本硬件（二车）
1. 主机插接电源线情况下，__`禁止`__ 触摸 __`前置风枪的GX16航空头`__ 与 __`后置加热台GX16航空头`__ 內部的针脚。
2. 烙铁、风枪、加热台插接第三方的手柄，都需要对照`组装教程`中的`手柄接线规范`，否则 __`必损毁主机！`__
3. 在插接220V电源线情况下，风枪、加热台 __`不允许`__ 带电拔插，带电拔插有可能会烧毁主机，但凡发生一次意外，主机将产生不可逆的损坏。
4. 目前固件还未支持自动识别烙铁芯，在插接JBC210手柄 __`前`__ ，必须先选择好`烙铁芯类型`，否则会因为温度不对应导致烙铁头高温而损坏烙铁头。T12、JBC245手柄无视此规则。
5. 可调电源`支持短路保护`，但 __`不支持反接保护`__ 。在连接`电池`、`超级电容`等此类`自带能量`的供电设备时，不允许接错正负极，推荐最好的办法就是`不要给电池、超级电容供电`。
6. 默认`触摸开关`是关闭的，大部分机器打开触摸开关就会出现`菜单`反复显示隐藏的bug，故默认情况下关闭。只有部分机器可用触摸开关。如出现`菜单`反复显示隐藏的bug，请重新刷机。

#### V2.0.X版本硬件（一车）
二车的所有注意事项，一车用户都需要注意。
1. 烙铁不支持JBC210手柄。
2. 可调电源无恒流模式，纹波较大（带出优化方案）。


## SnailHeater硬件支持
#### V2.0.X版本硬件（一车）
1. 烙铁支持T12、JBC245（不支持JBC210），内置电源达200W功率，与主控供电隔离。
2. 支持858D相关类型的风枪，同时接口也支持加热板（分体式），最大支持2000W。共两个GX16接口，支持风枪加热板盲插。
3. 可调电源：全数字可调，输出0.8V~22.8V之间的电压，电流可达5A（不支持恒流），3A以上负载文波80mv内。内置软件过流保护（可自定义阈值），内置硬件短路保护。（硬件纹波不稳定，待统一通知修复方案）
4. 内置NTC环境补偿。另外还设置全套温度自动校准方案，无需额外测温仪。（注：待固件更新支持）
5. 使用TFT 1.69寸240*280的tft彩屏，使用LVGL做界面，增强操作的动画效果。
6. 配套上位机软件，用于更新固件和绘制温控曲线等等。
7. 附带双路ADC采样电路（内置缓冲），用于开发双路示波器（最高采样2M）。
8. 预留DAC输出电路，用作单路函数发生器使用。
9. 预留高精度PWM输出接口，可外接点焊机作为可调脉冲信号。（后期提供电焊机配件）
10. 后期将会添加休眠功能，可用于显示天气、监控
11. 还会有更多的功能加入。。。。

#### V2.5.X版本硬件（二车）
1. 烙铁支持T12、JBC245、JBC210等等，内置双电压电源24V/8A、12V6A，与主控供电隔离。
2. 支持858D相关类型的风枪，同时接口也支持加热板（分体式），最大支持2000W。共两个GX16接口，支持风枪加热板盲插。
3. 可调电源：全数字电压电流可调，输出0.8V~22.8V之间的电压，电流可达0~5A，1A以上负载文波25mv。内置软件过流保护（可自定义阈值），内置硬件短路保护。
4. 内置NTC环境补偿。另外还设置全套温度自动校准方案，无需额外测温仪。（注：待固件更新支持）
5. 使用TFT 1.69寸240*280的tft彩屏，使用LVGL做界面，增强操作的动画效果。
6. 配套上位机软件，用于更新固件和绘制温控曲线等等。
7. 附带双路ADC采样电路（内置缓冲），用于开发双路示波器（最高采样2M）。
8. 预留DAC输出电路，用作单路函数发生器使用。
9. 预留高精度PWM输出接口，可外接点焊机作为可调脉冲信号。（后期提供电焊机配件）
10. 后期将会添加休眠功能，可用于显示天气、监控
11. 还会有更多的功能加入。。。。

注：一车版本通过更换`功率板`和`核心板`后等于二车版本。升级二车后的主机，在固件内部设置版本时完全按照二车`v2.5.x设置`。

## 固件更新（刷机）
目前`v2.0.x`、`v2.1.x`、`v2.5.x`共使用同一个固件，下载群内提供的刷机工具进行刷机。刷机工具内部有刷机教程链接。

刷机完毕后，必须在焊台的设置内部确定版本的正确设置。

## 焊台使用教程
待更新视频教程。。。。

## 使用指南（未完善）
#### 烙铁
1. 目前固件还未支持自动识别烙铁芯，在插接JBC210手柄 __`前`__ ，必须先选择好`烙铁芯类型`，否则会因为温度不对应导致烙铁头高温而损坏烙铁头。T12、JBC245手柄无视此规则。（一车v2.0.x不支持JBC210发热芯）
2. 群主默认批量的手柄是 __`内置震动开关的`__ ，设置中关于烙铁 __`唤醒模式`__ 应当设置为 __`change模式`__ 。想要修改为休眠座的群友，请将震动开关 __`拆除`__ 或者 __`断开一脚`__ （目的让震动开关失效），将休眠座的休眠线接主机后面板的休眠孔上（2mm白色香蕉头），并设置 __`唤醒模式`__ 为 __`high`__ 。

#### 热风枪
###### 注：使用第三方手柄必须参考`组装教程`接线。拔插必须关闭电源开关操作
1. 热风枪默认插接主机前置航空头。
2. 固件内对于热风枪的温度校准为出风口`1cm`处。相对于市面上现成未特殊校准过的风枪，温度更高一些，故`300`度即可达到普通风枪`350~400`度的效果。

#### 加热台
###### 注：必须参考`组装教程`接线。拔插必须关闭电源开关操作
1. 加热台默认插接主机后置航空头。
2. 目前固件内部使用`软开关`启停加热台。需要在加热台界面点击电源开关方可工作。
3. 由于加热台热容比较大，使得关闭后降温很慢，属于正常现象。

#### 可调电源
略。。。

## 修改通知
#### 功率板修改
DIY的群友自行修改。购买`二车`（v2.5.0）的成品`功率板`或`主机`且  __`2023年5月31日`__ 之前发货的群友可自行修改，如果是主机可寄回给群主处理。

由于目前蜗牛台配套使用的`AC-DC24V`电源接地的问题，与原先功率板的的接地方式不匹配，导致烙铁金属外壳对PE将有24V电压。故统一修改一处电阻，如下图是所示， _`R25`_ 原先使 _`1M`_ 的电阻，现需要并上一颗 _`1K`_ 左右的电阻。

注：实际上 _`1M`_ 替换成 _`1K`_ 也可行，为了后期可能使用 _`蜗牛台专用电源`_ ，推荐请保留改 _`1M`_ 电阻。

![功率板接地修改](功率板接地修改.jpg)

